# 一周年Web体験 要件メモ（引き継ぎ）

このファイルは、依頼者から共有された要件・方針（改訂最新版）の写経です。実装・演出の意思決定の基準として参照します。

---

あなたは、恋人との一周年記念のためのスマホ向けインタラクティブWeb体験をゼロから設計・構築するフロントエンド開発パートナーです。
私は発注者（制作者）で、対話しながら段階的に作り込みたいです。環境構築から実装・デプロイまで、私の意図を汲み取り、必要な確認質問を投げながら進めてください。

## 1. プロダクトの目的と世界観

目的：1年間の思い出を“ゲーム的体験”として追体験し、最後に「リザルト」画面で1年を讃える。

トーン：「ポップ（ゲーム周年）×ロマンチック（記念日）」を 1:1。

世界観：

- 冒頭はノベルゲーム風の導入（通話→不思議な出来事→「日付は一年前！」）。
- 全体はページごとに独立したメディアアート作品のように構成。
- 夜空／流星を重要モチーフに（「空フェス夜市」の思い出とリンク）。
- 最初はプログラム起動風ターミナル演出 → 最後にApexリザルト画面で回収する伏線。

## 2. 想定ユーザー・利用環境

- 主な閲覧者：彼女（スマホ閲覧が前提）。
- スマホ優先（iOS/Android）、縦画面フルスクリーン。ノッチやsafe-area対応必須。
- 操作：タップ進行（全面タップ領域 or 明確な次へボタン）。縦スクロール基本なし。

## 3. シーン構成

Intro（スタート／伏線）

- 夜空＋星＋流星。
- ASCIIアートのループ。
- 中央タイトル＋「tap to start」。

Prologue（ノベル導入）

- ノベルゲーム風UIでセリフが1行ずつ表示。
- 通話→不思議な出来事→「一年前に戻った」と気づく流れ。

Journeys（旧Travel／移動＋思い出）

演出：

- タップで東京→福岡の線や飛行機が移動。
- 到着すると「○月○日、福岡で会った」と表示。

思い出表示：

- 写真（後で提供）＋キャプション。
- 背景は会った場所にちなんだメディアアート。

自由入力の質問：

- 「この時どう思った？」
- 「一番印象に残った瞬間は？」
- 回答は最後に“変えられない記録”として残す。

距離カウント：

- 各移動ごとに距離を加算し、常に画面上に合計距離を表示。
- 後のクイズやResultで再利用する。

進行：

- タップで次の移動へ。月一ペースなので冗長にならない。

Messages

- バブルが増えて合計表示。
- クイズ「最も多かった月は？」。

Likes

- ハートが増える演出。
- クイズ「最初に好きって言ったのはどっち？」。

Meetups（アルバム）

- 月ごとの思い出を写真＋テキストで振り返る。
- 各ページ固有のデジタルアート背景。

Letter

- 封筒イラスト → 実物の手紙と連動。

Result（リザルト）

- Apexリザルト画面オマージュ。
- 指標：合計移動距離／メッセージ数／好き回数／会った日数。
- バッジ例：「Angel 1004」「Wave Walker」。
- 伏線回収：最初のプログラム演出に繋げる。

## 4. データ設計（編集可能に）

```ts
journeys[]: {
  date: string, // "2024-05-16"
  from: "Tokyo",
  to: "Fukuoka",
  transport: "plane" | "bus" | "train",
  caption: string,
  photoURL: string,
  artKey: string,
  distanceKm: number,
  prompts: [
    { q: string, answer?: string }
  ]
}
```

- distanceKmを合計して常に表示。
- 他のセクション（クイズ／Result）でも利用可能。

## 5. デザイン・演出指針

- 全体：メディアアート展示風＋ノベル＋ゲームUIの融合。
- Journeys：移動アニメ＋写真＋入力UIをバランスよく配置。
- 色調：夜空の青＋淡ピンク／金アクセント。
- アニメ：軽いフェード、流星アニメは常時。
- 音：効果音はタップに応じて小さく。デフォルトOFF、トグルでON。

### 5.1 追記（2025-09-18）
- 「夜空」ベースはIntroのみを確約。以降は各ページで独立した“良いメディアアート”を置く方針。
- 写真はiPhone 16 Proの縦横混在を尊重。重要写真は全画面（ライトボックス）→カードに戻る二段構えも検討。

## 6. マイルストーン（改訂）

- M1：環境構築＋骨組み（スマホ最適・シーン遷移）
- M2：Intro（夜空×ターミナルASCII）
- M3：Prologue（ノベル導入）
- M4：Journeys（移動アニメ＋思い出写真＋距離カウント＋自由入力）
- M5：Messages／Likes
- M6：Meetups
- M7：Letter／Result（Apex風）
- M8：演出仕上げ

### 6.1 実装メモ（2025-09-18）
- Journeysは最大100件規模を想定。パフォーマンス配慮のため段階読み込み＋シーン内ページングを採用予定。
- 回答は日時と紐付けてローカル保存（現行 `recordedAt` を利用）。将来のJSONエクスポート導線をResultに追加予定。

## 7. Codexへの確認事項（改訂）

1) Journeysの移動演出：SVG／Canvas／地図ライブラリの比較検討。
2) 写真とテキストを重ねるUIの最適解（フルスクリーン／カード表示）。
3) 自由入力の保存方法：ローカル保存／JSON出力／スクショ的固定。
4) 合計距離の常時表示UIの位置（上固定 or 下固定）。
5) クイズに距離を利用するための実装方法。
